SaLesson{#order:1,#units:OrderedCollection[SaMarkdownContent{#order:0,#title:'Objectives',#id:#___Objectives,#content:'#Objectifs \n\nCette lesson de notre cours cible se familiariser avec le contexte ROS. \nAprès cette lesson vous devez être capable de:\n\t\n\t\n- Reconnaitre qu\'est-ce que ce Node (nœud). \n- Pouvoir reconnaitre les nodes d\'un systeme ROS. \n- Trouver aide graphique pour comprendre l\'architecture d\'un systeme ROS.\n- Interagir et obtenir information d\'un Node existante\n'},SaMultipleChoiceQuestion{#order:1,#title:'Quiz #1: Nodes',#id:#WhatIsANode,#state:{'Vertice':false,'Sommet':true,'Arc':false},#optional:false,#question:'Qu\'est-ce que ce un Node (Nœud)?',#choices:['Graph','Vertice','Arc','Un package ROS','Reseaux','Sommet'],#singleReponse:false},SaMarkdownContent{#order:2,#title:'Nodes',#id:#NodesInRos,#content:'Meme s\'en français on trouve un mot equivalent a Node (nœud), etant un nom cles des concepts de ROS, on vas rester sur son nom anglais, pour aider a la communication avec des autres utilisateurs.\n\n\n## Reseau\nUn node est aussi une façon d\'appeler un sommet d\'un graph/reseau. \nDans ce genre de reseau, chaque node represent une fonctionalité, et chaque arc une lien de transference d\'information: une connection.\n![Graph](https://python-graph-gallery.com/wp-content/uploads/320_Network_start_simple.png)\n\n\n## Un reseau de processement distribué\nROS est a la base un systeme distribué de processement. \nCette genre d\'architecture offre la flexibilité et performance necessaire pour un systeme robotique. \nROS etant un middleware et systeme robotique, a une vision "meta" descriptive de tout l\'etat du systeme. \nL\'apellation par excellence des sommets de graphs en anglais est Node. \n\nUn systeme distribué a besoin de quelques characteristiques en commun\n- Interface unifié de communication\n- Flexibilité pour trouver des resources\n- Flexibilité pour ajotuer et enlever des fonctionalités.\n\nPour mantenir cette vision globale,  et pouvoir acomplir les connections entre different programmes que sont agnostiques de leur existance, ROS offre un node speciale et unique dans une instalation ROS: Le master. \n\nLe node master va fonctioner comme un courtier, il prendre en charge la mis en communication entre les differents nodes. On pourrait dire que le master est en charge de "desiner" les arcs entre les nodes.\n\n\n## Technique \nDans le contexte plus material un Node désigne la plus petite unité de processeur fonctionnant en ROS. Il s\'agit d\'un programme exécutable. ROS recommande de créer un seul Node pour chaque objectif, et il est recommandé de développer pour une réutilisation facile. Par exemple, dans le cas des robots mobiles, le programme permettant de faire fonctionner le robot est décomposé en fonctions spécialisées. Un node spécialisé est utilisé pour chaque fonction, telle que l\'entraînement des capteurs, la conversion des données des capteurs, la reconnaissance des obstacles, l\'entraînement des moteurs, l\'entrée des encodeurs et la navigation.\nAu démarrage, un node enregistre des informations telles que le nom, le type de message, l\'adresse URI et le numéro de port du node. Le node enregistré peut agir en tant qu\'éditeur, abonné, serveur de service ou client de service sur la base des informations enregistrées, et les nodes peuvent échanger des messages en utilisant des sujets et des services.\nLe Node utilise XMLRPC pour communiquer avec le master et utilise XMLRPC ou TCPROS5 des protocoles TCP/IP pour communiquer entre les nodes. La demande de connexion et la réponse entre les nodes utilisent XMLRPC, et la communication des messages utilise TCPROS car il s\'agit d\'une communication directe entre les nodes, indépendante du maître. En ce qui concerne l\'adresse URI et le numéro de port, une variable appelée ROS_HOSTNAME, qui est stockée sur l\'ordinateur où le node fonctionne, est utilisée comme adresse URI, et le port est fixé à une valeur unique arbitraire.\n\n'},SaQuestionaire{#order:3,#title:'Quiz #1: Le Node ROS ',#id:#NodesQuiz,#optional:false,#questions:OrderedCollection[SaMultipleChoiceQuestion{#id:#NodesQuizQ4,#state:{'XMLRPC':true,'TCPROS5':true,'UDP/IP':true},#optional:false,#question:'Un node se communique avec des autres nodes avec les protocols',#choices:['RTP','XMLRPC','UDP/IP','TCPROS5'],#singleReponse:false},SaMultipleChoiceQuestion{#id:#NodesQuizQ3,#state:{'Interface unifié de communication':true,'Flexibilité pour trouver des resources':true,'Flexibilité pour ajotuer et enlever des fonctionalités':true},#optional:false,#question:'On reconnait plusieur characteristiques de ROS tant systeme distribue',#choices:['Interface unifié de communication','Un seule langage de development','Flexibilité pour trouver des resources','Une architecture hardware unifiée ','Flexibilité pour ajotuer et enlever des fonctionalités'],#singleReponse:false},SaMultipleChoiceQuestion{#id:#NodesQuizQ2,#state:{'de processus interconnecté':true,'systeme a multiple processus':true},#optional:false,#question:'Un systeme distribue est un ',#choices:['de processus interconnecté','systeme a multiples ordinateurs','systeme a multiple processus'],#singleReponse:false},SaMultipleChoiceQuestion{#id:#NodesQuizQ1,#state:{'Les nodes sont les sommet du graph, leur communication les arcs':true},#optional:false,#question:'Pour quoi vous pensez qu\'on fait une analogie avec les graph/reseaux?',#choices:['Les nodes sont les sommet du graph, leur communication les arcs','les nodes sont les les sommets, les arcs sont les relations de dependece','Les arcs sont des nodes, les sommets sont des machines'],#singleReponse:true}]},SaROSLaunchExperiment{#order:4,#title:'TurtleSim Draw',#id:#TurtleSimExperiment,#state:'on obtient pour la commande 1 :\r/draw\r/rosout\r/turtlesim\r\rpour la commande 2:\rOn obtient 7 processus \r\r1 - Si on compare les deux commandes : On retrouve les pid de chaque noeud dans la 2eme colonne.\r2- On a 3 connexions : rosout; turtle1/pose; turtle1/cmd_vel\r\rC 1- protocole utilisé : xmlrpc\r2- time : temps de réponse\r3- http://isen01:42505/ c\'est url de la commande pour draw\r\rD 1- on retrouve les connections entre les node turtlesim et draw\r\r\rkill draw : arrete la simulation\r1 - Erreur : Could not find ROS master. Either start a \'roscore\' or abort loading the plugin. \r2 non il n\'y a plus qu 1 processus\r3 impossible de communiquer avec le master',#optional:false,#description:'#Detailles\n\nPrenez note de tout que vous observé et de tout qu\'est demandé pour l\'exercise.\n\nCommentaire: le character "$" est utilisé pour representer la ligne de commande. Normalement, le character ne fait pas partie du commande. \n\nDemarrez le TurtleSim avec le button d\'experiment.\nUne fois la tortue commence a faire son desin, addressez vous sur une terminale de commande.\n\n\n\n(A)====================================================================\nExecutez les suivantes commandes:\n```\n$ rosnode list\n$ ps -fea | grep ros\n```\n1- Est-ce que vous pouvez trouver les nodes dans la liste entre les programmes en execution qu\'appartenent a ROS? \nOu est-ce que se trouve le fichier de la commande "draw_square"? \n\n\n(B)====================================================================\nExecutez la suivante commande:\n```\n$ rosnode info draw\n$ ps -fea | grep ros\n```\n1- En linux PID veut dire "Process ID". Maintenant s\'on compare le PID obtenu avec rosnode info, est-ce qu\'on retrouve le meme PID dans la deuxieme colonne du commande ps -fea? \n2- On trouve que notre node tiens plusieurs connections. Est-ce que vous pouvez diviner avec quels autres nodes?\n\n\n\n(C)====================================================================\nExecutez la suivante commande:\n```\n$ rosnode ping draw\n```\nLa commande ping nous laisse confirmer la connectivité qu\'on avec le node draw. \n1- Qu\'est-ce que ce le protocole de communication avec le quel on contacte le node draw?\n2- Qu\'est-ce que ce le "time" qu\'on regarde a cote de chauque entrée?\n3- Est-ce que vous reconnait l\'url utilisé par la commande? \n\n\n(D)====================================================================\nExecutez la commande\n\n```\n$ rqt_graph\n```\n\n1- Quelle information vous retrouvez dans le graphique que vous avez deja vu dans rosnode info? \n\n\n\n(E)====================================================================\nFinalement, dans une deuxieme terminal, executez la commande: \n```\n$ rosnode kill draw\n```\n\n1- Est-ce que le graphique de rqt_graph a changé? \n2- S\'on utilise ps -fea | grep ros on retrouve le process lie au draw?\n3- S\'on re-execute la commande rosnode list, on trouve l\'entrée pour draw?\n\n\n\n\n\n\n',#played:true,#command:' roslaunch /home/isen01/ADELER/bin/pharo-local/iceberg/pharo-robotics/RobotsDuNordROS/contents/ROSNodes/turtlesim.draw.launch '},SaQuestionaire{#order:5,#title:'Quiz #2: En étudions les nodes ',#id:#NodesCommands,#optional:false,#questions:OrderedCollection[SaOpenQuestion{#id:#NodesCommandsQ4,#state:'les nodes sont des processus qui communiquent entre eux. Ils sont responsables de la bonne execution d\'une simulation',#optional:false,#question:'Donnez vous une definition de Node avec vos mot, en pas plus de 3 lignes'},SaMultipleChoiceQuestion{#id:#NodesCommandsQ3,#state:{'L\'addresse HTTP pour s\'y connecter avec':true,'Les connections du node':true,'le PID du node':true},#optional:false,#question:'La commande rosnode info <nom-node> montre',#choices:['L\'addresse HTTP pour s\'y connecter avec','Les connections du node','le PID du node','Le nom du developeur'],#singleReponse:false},SaMultipleChoiceQuestion{#id:#NodesCommandsQ2,#state:{'moins des processus':true},#optional:false,#question:'La commande rosnode list, en relation a "ps -fea | grep ros": il montre ',#choices:['moins des processus','plus de processus','la meme quantité'],#singleReponse:false},SaMultipleChoiceQuestion{#id:#NodesCommandsQ1,#state:{'contien le mot "ros"':true},#optional:false,#question:'"ps -fea | grep ros" montre tout les processus que',#choices:['contien le mot "ros"','que sont demarre par l\'utilisateur ros','appartien a ROS'],#singleReponse:true}]},SaLessonSummary{#order:6,#title:'Summary',#id:#__Summary,#content:'#Summaire  \n\n\nvous devez être capable de:\n\t\n\t\n- Reconnaitre qu\'est-ce que ce Node (nœud). \n- Pouvoir reconnaitre les nodes d\'un systeme ROS. \n- Trouver aide graphique pour comprendre l\'architecture d\'un systeme ROS.\n- Interagir et obtenir information d\'un Node existante\n'}],#title:'Nodes',#current:7,#submitFolder:#RosElementalConcepts,#id:#Nodes}